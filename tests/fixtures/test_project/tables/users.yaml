tables:
  - name: users
    description: A table for users
    config:
      materialize: true
    columns:
      - name: id
        data_type: integer
        generator: primary_key.incrementing_id
      - name: full_name
        data_type: string
        generator: pii.full_name
      - name: sex_id
        data_type: string
        generator: foreign_key.key
        options:
          reference: "${ref:sex.id}"
      - name: email
        data_type: string
        generator: pii.email
      - name: password
        data_type: string
        generator: pii.password
      - name: created_at
        data_type: datetime
        generator: datetime.random
        options:
          start_date: "2020-01-01"
          end_date: "2025-01-01"
      - name: updated_at
        data_type: datetime
        generator: datetime.random
        options:
          start_date: "${ref:this.created_at}"
          end_date: "2025-01-01"
    references:
      - type: seed
        name: sex
        relationship: one_to_many
      - type: source
        name: company
        relationship: one_to_many
